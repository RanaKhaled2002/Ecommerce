"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[886],{1886:(U,i,l)=>{l.r(i),l.d(i,{ChangepasswordComponent:()=>x});var _=l(6814),a=l(95),e=l(4769),c=l(1378),m=l(1120),g=l(2425);function f(r,n){1&r&&(e.TgZ(0,"p"),e._uU(1,"Current Password Is Requierd"),e.qZA())}function h(r,n){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,f,2,0,"p",13),e.qZA()),2&r){const s=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=s.updateForm.get("currentPassword"))||null==o.errors?null:o.errors.required)}}function w(r,n){1&r&&(e.TgZ(0,"p"),e._uU(1,"Password Is Requierd"),e.qZA())}function C(r,n){1&r&&(e.TgZ(0,"p"),e._uU(1,"Minimum 8 characters, Maximum 16 characters, at least one capital letter , one number and one special character"),e.qZA())}function v(r,n){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,w,2,0,"p",13),e.YNc(2,C,2,0,"p",13),e.qZA()),2&r){const s=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=s.updateForm.get("password"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(t=s.updateForm.get("password"))||null==t.errors?null:t.errors.pattern)}}function Z(r,n){1&r&&(e.TgZ(0,"p"),e._uU(1,"Re-Password Is Requierd"),e.qZA())}function P(r,n){1&r&&(e.TgZ(0,"p"),e._uU(1,"Password Conformation Is Incorrect"),e.qZA())}function T(r,n){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,Z,2,0,"p",13),e.YNc(2,P,2,0,"p",13),e.qZA()),2&r){const s=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=s.updateForm.get("rePassword"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(t=s.updateForm.get("rePassword"))||null==t.errors?null:t.errors.misMatch)}}function I(r,n){if(1&r&&(e.TgZ(0,"h3",14),e._uU(1),e.qZA()),2&r){const s=e.oxw();e.xp6(1),e.Oqu(s.MessageError)}}function A(r,n){1&r&&e._UZ(0,"i",15)}let x=(()=>{class r{constructor(s,o,t){this._AuthService=s,this._Router=o,this._ToastrService=t,this.checkCorrectData=!1,this.updateForm=new a.cw({currentPassword:new a.NI(null,[a.kI.required]),password:new a.NI(null,[a.kI.required,a.kI.pattern(/^(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[A-Z])[a-zA-Z0-9!@#$%^&*]{8,16}$/)]),rePassword:new a.NI(null)},{validators:[this.checkPassword]})}checkPassword(s){const o=s.get("password"),t=s.get("rePassword");""==t?.value?t.setErrors({required:!0}):o?.value!=t?.value&&t?.setErrors({misMatch:!0})}submit(){this.checkCorrectData=!0,this._AuthService.updatePassword(this.updateForm.value).subscribe({next:s=>{"success"==s.message&&(this.checkCorrectData=!1,this._ToastrService.success("Password Change Successfully Please Login Again"),this._Router.navigate(["/login"]))},error:s=>{console.log(s),this.MessageError=s.error.errors.msg,this.checkCorrectData=!1}})}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(c.e),e.Y36(m.F0),e.Y36(g._W))};static#r=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-changepassword"]],standalone:!0,features:[e.jDz],decls:24,vars:7,consts:[[1,"shadow","rounded","p-4","my-4","bg-main-light"],[1,"w-75","mx-auto","py-5"],[1,"text-main"],[3,"formGroup","submit"],[1,"mb-3"],["type","password","formControlName","currentPassword",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],["type","password","formControlName","password",1,"form-control"],["type","password","formControlName","rePassword",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"main-btn","text-white","d-block","ms-auto",3,"disabled"],["class","fa-solid fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger","mt-2"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"fa-solid","fa-spinner","fa-spin"]],template:function(o,t){if(1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"h3",2),e._uU(3,"Update Now:"),e.qZA(),e.TgZ(4,"form",3),e.NdJ("submit",function(){return t.submit()}),e.TgZ(5,"div",4)(6,"label"),e._uU(7,"Current Password :"),e.qZA(),e._UZ(8,"input",5),e.YNc(9,h,2,1,"div",6),e.qZA(),e.TgZ(10,"div",4)(11,"label"),e._uU(12,"Password :"),e.qZA(),e._UZ(13,"input",7),e.YNc(14,v,3,2,"div",6),e.qZA(),e.TgZ(15,"div",4)(16,"label"),e._uU(17,"Re-Password :"),e.qZA(),e._UZ(18,"input",8),e.YNc(19,T,3,2,"div",6),e.qZA(),e.YNc(20,I,2,1,"h3",9),e.TgZ(21,"button",10),e._uU(22,"Update "),e.YNc(23,A,1,0,"i",11),e.qZA()()()()),2&o){let u,p,d;e.xp6(4),e.Q6J("formGroup",t.updateForm),e.xp6(5),e.Q6J("ngIf",(null==(u=t.updateForm.get("currentPassword"))?null:u.errors)&&(null==(u=t.updateForm.get("currentPassword"))?null:u.touched)),e.xp6(5),e.Q6J("ngIf",(null==(p=t.updateForm.get("password"))?null:p.errors)&&(null==(p=t.updateForm.get("password"))?null:p.touched)),e.xp6(5),e.Q6J("ngIf",(null==(d=t.updateForm.get("rePassword"))?null:d.errors)&&(null==(d=t.updateForm.get("rePassword"))?null:d.touched)),e.xp6(1),e.Q6J("ngIf",t.MessageError),e.xp6(1),e.Q6J("disabled",t.updateForm.invalid),e.xp6(2),e.Q6J("ngIf",t.checkCorrectData)}},dependencies:[_.ez,_.O5,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}return r})()}}]);