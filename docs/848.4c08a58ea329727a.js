"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[848],{848:(h,_,i)=>{i.r(_),i.d(_,{AllordersComponent:()=>n});var l=i(6814),c=i(8129),t=i(4769),d=i(5371);function u(r,a){if(1&r&&(t.TgZ(0,"div",9)(1,"div",10),t._UZ(2,"img",11),t.TgZ(3,"h1",12),t._uU(4),t.ALo(5,"cuttext"),t.qZA()()()),2&r){const e=a.$implicit;t.xp6(2),t.Q6J("src",null==e.product?null:e.product.imageCover,t.LSH),t.xp6(2),t.hij("",t.xi3(5,2,null==e.product?null:e.product.title,2)," ")}}function o(r,a){if(1&r&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"h1",6),t._uU(4),t.qZA(),t.TgZ(5,"div",7),t.YNc(6,u,6,5,"div",8),t.qZA()()()()),2&r){const e=a.$implicit;t.xp6(4),t.hij("Total Price:",e.totalOrderPrice,""),t.xp6(2),t.Q6J("ngForOf",e.cartItems)}}function m(r,a){if(1&r&&(t.TgZ(0,"section"),t.YNc(1,o,7,2,"div",2),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.allOrders)}}function s(r,a){1&r&&(t.TgZ(0,"h1",13),t._uU(1,"No Orders Yet..."),t.qZA())}let n=(()=>{class r{constructor(e){this._CartService=e,this.allOrders=[]}ngOnInit(){this._CartService.getAllUserOrders().subscribe({next:e=>{this.allOrders=0==e.length?null:e},error:e=>{console.log(e)}})}static#t=this.\u0275fac=function(p){return new(p||r)(t.Y36(d.N))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-allorders"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["message",""],["class","row py-3 g-3",4,"ngFor","ngForOf"],[1,"row","py-3","g-3"],[1,"col-md-12"],[1,"py-5","shadow"],[1,"h4","text-main","text-center"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"ms-3"],[1,"w-50","me-3",3,"src"],[1,"h6","text-main","ps-3","my-2"],[1,"text-center","text-main"]],template:function(p,v){if(1&p&&(t.YNc(0,m,2,1,"section",0),t.YNc(1,s,2,0,"ng-template",null,1,t.W1O)),2&p){const g=t.MAs(2);t.Q6J("ngIf",v.allOrders)("ngIfElse",g)}},dependencies:[l.ez,l.sg,l.O5,c.r]})}return r})()},5371:(h,_,i)=>{i.d(_,{N:()=>u});var l=i(5619),c=i(4769),t=i(9862),d=i(1378);let u=(()=>{class o{constructor(s,n){this._HttpClient=s,this._AuthService=n,this.baseUrl="https://ecommerce.routemisr.com",this.cartNumber=new l.X(0),this.userId=this._AuthService.userId}addProduct(s){return this._HttpClient.post(`${this.baseUrl}/api/v1/cart`,{productId:s})}updateCart(s,n){return this._HttpClient.put(`${this.baseUrl}/api/v1/cart/${s}`,{count:n})}getUserCart(){return this._HttpClient.get(`${this.baseUrl}/api/v1/cart`)}rmoveSpecificItem(s){return this._HttpClient.delete(`${this.baseUrl}/api/v1/cart/${s}`)}clearCart(){return this._HttpClient.delete(`${this.baseUrl}/api/v1/cart`)}checkOutSession(s,n){return this._HttpClient.post(`${this.baseUrl}/api/v1/orders/checkout-session/${s}?url=http://localhost:4200`,{shippingAddress:n})}cashPayment(s,n){return this._HttpClient.post(`${this.baseUrl}/api/v1/orders/${s}`,{shippingAddress:n})}getAllUserOrders(){return this._HttpClient.get(`${this.baseUrl}/api/v1/orders/user/${this.userId}`)}static#t=this.\u0275fac=function(n){return new(n||o)(c.LFG(t.eN),c.LFG(d.e))};static#e=this.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()}}]);