"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[932],{6666:(G,m,l)=>{l.r(m),l.d(m,{LoginComponent:()=>R});var u=l(6814),s=l(95),e=l(4769),g=l(1378),c=l(1120);function f(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Email Is Requierd"),e.qZA())}function d(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Email Should Have @ & ."),e.qZA())}function p(o,i){if(1&o&&(e.TgZ(0,"div",20),e.YNc(1,f,2,0,"p",21),e.YNc(2,d,2,0,"p",21),e.qZA()),2&o){const r=e.oxw();let t,n;e.xp6(1),e.Q6J("ngIf",null==(t=r.loginForm.get("email"))||null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==(n=r.loginForm.get("email"))||null==n.errors?null:n.errors.email)}}function w(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Password Is Requierd"),e.qZA())}function x(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Minimum 8 characters, Maximum 16 characters, at least one capital letter , one number and one special character"),e.qZA())}function Z(o,i){if(1&o&&(e.TgZ(0,"div",20),e.YNc(1,w,2,0,"p",21),e.YNc(2,x,2,0,"p",21),e.qZA()),2&o){const r=e.oxw();let t,n;e.xp6(1),e.Q6J("ngIf",null==(t=r.loginForm.get("password"))||null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==(n=r.loginForm.get("password"))||null==n.errors?null:n.errors.pattern)}}function h(o,i){if(1&o&&(e.TgZ(0,"h5",22),e._uU(1),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.Oqu(r.messageError)}}function v(o,i){1&o&&e._UZ(0,"i",23)}function T(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Email Is Requierd"),e.qZA())}function P(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Email Should Have @ & ."),e.qZA())}function C(o,i){if(1&o&&(e.TgZ(0,"div",20),e.YNc(1,T,2,0,"p",21),e.YNc(2,P,2,0,"p",21),e.qZA()),2&o){const r=e.oxw(2);let t,n;e.xp6(1),e.Q6J("ngIf",null==(t=r.forgetPasswordForm.get("email"))||null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==(n=r.forgetPasswordForm.get("email"))||null==n.errors?null:n.errors.email)}}function I(o,i){if(1&o&&(e.TgZ(0,"h5",22),e._uU(1),e.qZA()),2&o){const r=e.oxw(2);e.xp6(1),e.Oqu(r.forgetPasswordError)}}function q(o,i){1&o&&e._UZ(0,"i",23)}function A(o,i){if(1&o){const r=e.EpF();e.TgZ(0,"form",24),e.NdJ("ngSubmit",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.forgetPassword())}),e.TgZ(1,"h3",25),e._uU(2,"Enter Email Now:"),e.qZA(),e.TgZ(3,"div",4)(4,"label"),e._uU(5,"Email"),e.qZA(),e._UZ(6,"input",5),e.YNc(7,C,3,2,"div",6),e.qZA(),e.YNc(8,I,2,1,"h5",8),e.TgZ(9,"button",26),e._uU(10,"Submit "),e.YNc(11,q,1,0,"i",12),e.qZA()()}if(2&o){const r=e.oxw();let t;e.Q6J("formGroup",r.forgetPasswordForm),e.xp6(7),e.Q6J("ngIf",(null==(t=r.forgetPasswordForm.get("email"))?null:t.errors)&&(null==(t=r.forgetPasswordForm.get("email"))?null:t.touched)),e.xp6(1),e.Q6J("ngIf",r.forgetPasswordError),e.xp6(1),e.Q6J("disabled",r.forgetPasswordForm.invalid),e.xp6(2),e.Q6J("ngIf",r.passwordCorrectData)}}function F(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Reset Code Is Requierd"),e.qZA())}function b(o,i){if(1&o&&(e.TgZ(0,"div",20),e.YNc(1,F,2,0,"p",21),e.qZA()),2&o){const r=e.oxw(2);let t;e.xp6(1),e.Q6J("ngIf",null==(t=r.verfiyPasswordForm.get("resetCode"))||null==t.errors?null:t.errors.required)}}function N(o,i){if(1&o&&(e.TgZ(0,"h5",22),e._uU(1),e.qZA()),2&o){const r=e.oxw(2);e.xp6(1),e.Oqu(r.verfiyPasswordError)}}function U(o,i){1&o&&e._UZ(0,"i",23)}function L(o,i){if(1&o){const r=e.EpF();e.TgZ(0,"form",24),e.NdJ("ngSubmit",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.verfiyPassword())}),e.TgZ(1,"h3",25),e._uU(2,"Enter Code Now:"),e.qZA(),e.TgZ(3,"div",4)(4,"label"),e._uU(5,"Code"),e.qZA(),e._UZ(6,"input",27),e.YNc(7,b,2,1,"div",6),e.qZA(),e.YNc(8,N,2,1,"h5",8),e.TgZ(9,"button",26),e._uU(10,"Submit "),e.YNc(11,U,1,0,"i",12),e.qZA()()}if(2&o){const r=e.oxw();let t;e.Q6J("formGroup",r.verfiyPasswordForm),e.xp6(7),e.Q6J("ngIf",(null==(t=r.verfiyPasswordForm.get("resetCode"))?null:t.errors)&&(null==(t=r.verfiyPasswordForm.get("resetCode"))?null:t.touched)),e.xp6(1),e.Q6J("ngIf",r.verfiyPasswordError),e.xp6(1),e.Q6J("disabled",r.verfiyPasswordForm.invalid),e.xp6(2),e.Q6J("ngIf",r.verfiyCorrectData)}}function J(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Email Is Requierd"),e.qZA())}function E(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Email Should Have @ & ."),e.qZA())}function y(o,i){if(1&o&&(e.TgZ(0,"div",20),e.YNc(1,J,2,0,"p",21),e.YNc(2,E,2,0,"p",21),e.qZA()),2&o){const r=e.oxw(2);let t,n;e.xp6(1),e.Q6J("ngIf",null==(t=r.resetPasswordForm.get("email"))||null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==(n=r.resetPasswordForm.get("email"))||null==n.errors?null:n.errors.email)}}function Q(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"New Password Is Requierd"),e.qZA())}function D(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Minimum 8 characters, Maximum 16 characters, at least one capital letter , one number and one special character"),e.qZA())}function Y(o,i){if(1&o&&(e.TgZ(0,"div",20),e.YNc(1,Q,2,0,"p",21),e.YNc(2,D,2,0,"p",21),e.qZA()),2&o){const r=e.oxw(2);let t,n;e.xp6(1),e.Q6J("ngIf",null==(t=r.resetPasswordForm.get("newPassword"))||null==t.errors?null:t.errors.required),e.xp6(1),e.Q6J("ngIf",null==(n=r.loginForm.get("newPassword"))||null==n.errors?null:n.errors.pattern)}}function M(o,i){if(1&o&&(e.TgZ(0,"h5",22),e._uU(1),e.qZA()),2&o){const r=e.oxw(2);e.xp6(1),e.Oqu(r.resetPasswordError)}}function S(o,i){if(1&o&&(e.TgZ(0,"h5",30),e._uU(1),e.qZA()),2&o){const r=e.oxw(2);e.xp6(1),e.Oqu(r.doneMessage)}}function O(o,i){1&o&&e._UZ(0,"i",23)}function k(o,i){if(1&o){const r=e.EpF();e.TgZ(0,"form",24),e.NdJ("ngSubmit",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.resetPassword())}),e.TgZ(1,"h3",25),e._uU(2,"Enter New Password Now:"),e.qZA(),e.TgZ(3,"div",4)(4,"label"),e._uU(5,"Email"),e.qZA(),e._UZ(6,"input",5),e.YNc(7,y,3,2,"div",6),e.qZA(),e.TgZ(8,"div",4)(9,"label"),e._uU(10,"New Password"),e.qZA(),e._UZ(11,"input",28),e.YNc(12,Y,3,2,"div",6),e.qZA(),e.YNc(13,M,2,1,"h5",8),e.YNc(14,S,2,1,"h5",29),e.TgZ(15,"button",26),e._uU(16,"Submit "),e.YNc(17,O,1,0,"i",12),e.qZA()()}if(2&o){const r=e.oxw();let t,n;e.Q6J("formGroup",r.resetPasswordForm),e.xp6(7),e.Q6J("ngIf",(null==(t=r.resetPasswordForm.get("email"))?null:t.errors)&&(null==(t=r.resetPasswordForm.get("email"))?null:t.touched)),e.xp6(5),e.Q6J("ngIf",(null==(n=r.resetPasswordForm.get("newPassword"))?null:n.errors)&&(null==(n=r.resetPasswordForm.get("newPassword"))?null:n.touched)),e.xp6(1),e.Q6J("ngIf",r.resetPasswordError),e.xp6(1),e.Q6J("ngIf",r.doneMessage),e.xp6(1),e.Q6J("disabled",r.resetPasswordForm.invalid),e.xp6(2),e.Q6J("ngIf",r.resetCorrectData)}}let R=(()=>{class o{constructor(r,t){this._AuthService=r,this._Router=t,this.correctData=!1,this.passwordCorrectData=!1,this.forgetPasswordFlag=!0,this.verfiyCorrectData=!1,this.verfiyPasswordFlag=!1,this.resetCorrectData=!1,this.resetPasswordFlag=!1,this.loginForm=new s.cw({email:new s.NI(null,[s.kI.required,s.kI.email]),password:new s.NI(null,[s.kI.required,s.kI.pattern(/^(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[A-Z])[a-zA-Z0-9!@#$%^&*]{8,16}$/)])}),this.forgetPasswordForm=new s.cw({email:new s.NI(null,[s.kI.required,s.kI.email])}),this.verfiyPasswordForm=new s.cw({resetCode:new s.NI(null,[s.kI.required])}),this.resetPasswordForm=new s.cw({email:new s.NI(null,[s.kI.required,s.kI.email]),newPassword:new s.NI(null,[s.kI.required,s.kI.pattern(/^(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[A-Z])[a-zA-Z0-9!@#$%^&*]{8,16}$/)])})}submit(){this.correctData=!0,this._AuthService.loginData(this.loginForm.value).subscribe({next:r=>{console.log(r),this.correctData=!1,"success"==r.message&&(localStorage.setItem("userToken",r.token),this._AuthService.decodeToken(),this._Router.navigate(["/home"]))},error:r=>{this.messageError=r.error.message,this.correctData=!1}})}forgetPassword(){this.passwordCorrectData=!0,this._AuthService.forgetPassword(this.forgetPasswordForm.value).subscribe({next:r=>{this.passwordCorrectData=!1,"success"==r.statusMsg&&(console.log(r.message),this.forgetPasswordFlag=!1,this.verfiyPasswordFlag=!0)},error:r=>{this.forgetPasswordError=r.error.message,this.passwordCorrectData=!1}})}verfiyPassword(){this.verfiyCorrectData=!0,this._AuthService.verfiyPassword(this.verfiyPasswordForm.value).subscribe({next:r=>{console.log(r),this.verfiyCorrectData=!1,"Success"==r.status&&(this.verfiyPasswordFlag=!1,this.resetPasswordFlag=!0)},error:r=>{this.verfiyPasswordError=r.error.message,this.verfiyCorrectData=!1}})}resetPassword(){this.resetCorrectData=!0,this._AuthService.resetPassword(this.resetPasswordForm.value).subscribe({next:r=>{r.token&&(this.doneMessage="Done!!",this.resetCorrectData=!0)},error:r=>{this.resetPasswordError=r.error.message,this.resetCorrectData=!1}})}static#e=this.\u0275fac=function(t){return new(t||o)(e.Y36(g.e),e.Y36(c.F0))};static#r=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],standalone:!0,features:[e.jDz],decls:32,vars:9,consts:[[1,"shadow","rounded","p-4","my-4","bg-main-light"],[1,"w-75","mx-auto","py-5"],[1,"py-5","my-2",3,"formGroup","ngSubmit"],[1,"text-main"],[1,"mb-3"],["formControlName","email","type","text",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],["type","password","formControlName","password",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-end","gap-3"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"nav-link","cursor-pointer"],["type","submit",1,"main-btn","text-white",3,"disabled"],["class","fa-solid fa-spinner fa-spin",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],[1,"modal-body"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-danger","mt-2"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"fa-solid","fa-spinner","fa-spin"],[3,"formGroup","ngSubmit"],[1,"text-main","text-center"],["type","submit",1,"main-btn","text-white","d-block","ms-auto",3,"disabled"],["formControlName","resetCode","type","text",1,"form-control"],["type","password","formControlName","newPassword",1,"form-control"],["class","alert alert-success",4,"ngIf"],[1,"alert","alert-success"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return n.submit()}),e.TgZ(3,"h3",3),e._uU(4,"Login Now:"),e.qZA(),e.TgZ(5,"div",4)(6,"label"),e._uU(7,"Email"),e.qZA(),e._UZ(8,"input",5),e.YNc(9,p,3,2,"div",6),e.qZA(),e.TgZ(10,"div",4)(11,"label"),e._uU(12,"Password"),e.qZA(),e._UZ(13,"input",7),e.YNc(14,Z,3,2,"div",6),e.qZA(),e.YNc(15,h,2,1,"h5",8),e.TgZ(16,"div",9)(17,"a",10),e._uU(18,"Forget Password"),e.qZA(),e.TgZ(19,"button",11),e._uU(20,"Login "),e.YNc(21,v,1,0,"i",12),e.qZA()()()()(),e.TgZ(22,"div",13)(23,"div",14)(24,"div",15)(25,"div",16)(26,"h1",17),e._uU(27,"Forget Password"),e.qZA()(),e.TgZ(28,"div",18),e.YNc(29,A,12,5,"form",19),e.YNc(30,L,12,5,"form",19),e.YNc(31,k,18,7,"form",19),e.qZA()()()()),2&t){let a,_;e.xp6(2),e.Q6J("formGroup",n.loginForm),e.xp6(7),e.Q6J("ngIf",(null==(a=n.loginForm.get("email"))?null:a.errors)&&(null==(a=n.loginForm.get("email"))?null:a.touched)),e.xp6(5),e.Q6J("ngIf",(null==(_=n.loginForm.get("password"))?null:_.errors)&&(null==(_=n.loginForm.get("password"))?null:_.touched)),e.xp6(1),e.Q6J("ngIf",n.messageError),e.xp6(4),e.Q6J("disabled",n.loginForm.invalid),e.xp6(2),e.Q6J("ngIf",n.correctData),e.xp6(8),e.Q6J("ngIf",n.forgetPasswordFlag),e.xp6(1),e.Q6J("ngIf",n.verfiyPasswordFlag),e.xp6(1),e.Q6J("ngIf",n.resetPasswordFlag)}},dependencies:[u.ez,u.O5,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]})}return o})()}}]);